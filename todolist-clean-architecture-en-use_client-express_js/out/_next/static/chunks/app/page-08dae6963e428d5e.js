(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6596:function(e,t,o){Promise.resolve().then(o.bind(o,9527))},9527:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return b}});var r=o(7437),a=o(2265),n=o(9099);class s{async getAllTodos(){return this.todoService.getAllTodos()}async createTodo(e){return this.todoService.createTodo(e)}async toggleTodoCompletion(e){return await this.todoService.updateTodo(e,{completed:!0})}async deleteTodo(e){return this.todoService.deleteTodo(e)}constructor(e){this.todoService=e}}class i{async getAllTodos(){return this.todoRepository.getAll()}async createTodo(e){return this.todoRepository.create(e.title)}async updateTodo(e,t){return this.todoRepository.update(e,t)}async deleteTodo(e){return this.todoRepository.delete(e)}constructor(e){this.todoRepository=e}}var l=o(8472),d=o(357);let c=l.Z.create({baseURL:d.env.NEXT_PUBLIC_API_URL||"http://localhost:3002/api",headers:{"Content-Type":"application/json"}});class u{async getAll(){return(await c.get("/todos")).data}async getById(e){return(await c.get("/todos/".concat(e))).data}async create(e){return(await c.post("/todos",{title:e})).data}async update(e,t){return(await c.put("/todos/".concat(e),t)).data}async delete(e){await c.delete("/todos/".concat(e))}}let h=new s(new i(new u)),p=(0,n.Ue)(e=>({todos:[],isLoading:!1,error:null,fetchTodos:async()=>{e({isLoading:!0});try{let t=await h.getAllTodos();e({todos:t,isLoading:!1})}catch(t){e({error:"Failed to fetch todos",isLoading:!1})}},addTodo:async t=>{try{let o=await h.createTodo({title:t});e(e=>({todos:[...e.todos,o]}))}catch(t){e({error:"Failed to add todo"})}},toggleTodo:async t=>{try{let o=await h.toggleTodoCompletion(t);e(e=>({todos:e.todos.map(e=>e.id===t?o:e)}))}catch(t){e({error:"Failed to toggle todo"})}},deleteTodo:async t=>{try{await h.deleteTodo(t),e(e=>({todos:e.todos.filter(e=>e.id!==t)}))}catch(t){e({error:"Failed to delete todo"})}}}));var y=o(5127),m=o(6383),x=e=>{let{todo:t,onToggle:o,onDelete:a}=e;return(0,r.jsx)(y.M,{children:(0,r.jsxs)(m.E.li,{className:"flex items-center justify-between p-4 my-2 mx-auto rounded-lg shadow-2xl bg-white/10 hover:bg-white/20 transition duration-300 ease-in-out transform hover:scale-[1.01] group relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:[.4,0,.2,1]},children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:t.completed,onChange:()=>o(t.id),className:"mr-4 form-checkbox appearance-none h-6 w-6 border border-gray-600 rounded-md checked:bg-gradient-to-r checked:from-blue-500 checked:to-purple-700 checked:border-transparent focus:outline-none transition duration-300 ease-in-out"}),"\xa0\xa0",(0,r.jsx)("span",{style:{color:"white"},className:" !text-white text-gray-300 font-medium text-lg group-hover:text-blue-400 transition duration-300 ease-in-out ".concat(t.completed?"line-through text-gray-600":""),children:t.title})]}),(0,r.jsx)(m.E.button,{onClick:()=>a(t.id),style:{color:"white"},className:"!text-white  absolute right-4 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition duration-300 ease-in-out bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-full shadow-md focus:outline-none",whileHover:{scale:1.1},whileTap:{scale:.95},children:"Supprimer"})]})})},g=()=>{let[e,t]=(0,a.useState)(""),o=p(e=>e.addTodo),n=async r=>{r.preventDefault(),e.trim()&&(await o(e),t(""))};return(0,r.jsxs)("form",{onSubmit:n,className:"relative flex items-center h-full p-8 my-4 mx-auto w-full max-w-md rounded-lg shadow-2xl bg-opacity-80 backdrop-filter backdrop-blur-lg border border-gray-800 transition duration-300 ease-in-out transform hover:scale-[1.02]",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Nouvelle t\xe2che",style:{color:"black"},className:"rounded-lg text-gray-800 rounded-full w-full p-8 px-6 py-4 text-lg font-medium border-2 border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300 ease-in-out h-16"}),"\xa0",(0,r.jsx)("button",{type:"submit",className:"rounded-lg p-7 py-4 absolute right-2 top-1/2 transform -translate-y-1/2 px-8 py-3 text-lg font-medium text-white bg-gradient-to-r from-blue-500 to-purple-500 rounded-full shadow-md hover:shadow-lg transition duration-300 ease-in-out hover:scale-105 focus:outline-none h-16",children:"Ajouter"})]})},f=()=>{let{todos:e,isLoading:t,error:o,toggleTodo:n,deleteTodo:s}=function(){let{todos:e,isLoading:t,error:o,fetchTodos:r,addTodo:n,toggleTodo:s,deleteTodo:i}=p();return(0,a.useEffect)(()=>{r()},[r]),{todos:e,isLoading:t,error:o,addTodo:n,toggleTodo:s,deleteTodo:i}}();return t?(0,r.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-t-blue-500 border-b-blue-500 border-l-transparent border-r-transparent rounded-full animate-spin"})}):o?(0,r.jsxs)("div",{className:"text-center text-red-500",children:["Erreur: ",o]}):(0,r.jsxs)("div",{className:"p-4 max-w-lg mx-auto h-full flex flex-col items-center justify-start",children:[(0,r.jsx)(m.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,ease:"easeOut"},children:(0,r.jsx)(g,{})}),(0,r.jsx)("ul",{className:"mt-8 w-full h-64 overflow-y-auto custom-scrollbar p-8",children:(0,r.jsx)(y.M,{children:Array.isArray(e)&&e.length>0?e.map(e=>(0,r.jsx)(m.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:[.4,0,.2,1]},children:(0,r.jsx)(x,{todo:e,onToggle:n,onDelete:s})},e.id)):(0,r.jsx)("div",{style:{color:"white"},className:"text-center !text-white",children:"Aucune t\xe2che pour le moment"})})})]})};function b(){return(0,r.jsxs)("main",{className:"container mx-auto mt-8 px-4 h-full flex flex-col justify-center  bg-gradient-to-b from-[#132743] to-[#23143C] rounded-lg",children:[(0,r.jsx)("h1",{className:"text-5xl py-20 font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-purple-500",children:"Gestionnaire de t\xe2ches"}),(0,r.jsx)(f,{})]})}}},function(e){e.O(0,[567,971,23,744],function(){return e(e.s=6596)}),_N_E=e.O()}]);